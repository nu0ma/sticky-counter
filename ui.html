<!DOCTYPE html>
<html>
<head>
    <title>Calculate Sum for Query in Selection</title>
</head>
<body>
    <label for="query">Query:</label>
    <input type="text" id="query" />
    <button id="calculate">Calculate Sum</button>
    <div id="result"></div>

    <script>
        document.getElementById('calculate').onclick = () => {
            const query = document.getElementById('query').value;
            parent.postMessage({ pluginMessage: { type: 'calculate-sum-for-query-in-selection', query } }, '*');
        };

        window.onmessage = event => {
            const { type, sum } = event.data.pluginMessage;
            if (type === 'sum-result') {
                document.getElementById('result').innerText = `Sum: ${sum}`;
            }
        };
    </script>
</body>
</html>
